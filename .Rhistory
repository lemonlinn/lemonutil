#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp1 <- list(as.character(unlist(uni$body$dataset[1,])))
#print(tmp1[3])
tmp1
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- list(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- list(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
View(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf[1]
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf[1,]
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf[2:length(tmpdf),]
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf[2:nrow(tmpdf),]
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1,]
#tmpdf <- subset(tmpdf, select = -c(X.))
#row.names(tmpdf) <- c(1,2)
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1,] <-
#sub("%","",tmpdf[1,]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
tmpdf[1] <- sub("%","",tmpdf[1]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
#tmpdf[1] <- sub("%","",tmpdf[1]) #sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
tmpdf[1] <- sapply(tmpdf[1,], FUN = sub, pattern="%", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
#sub("%","",tmpdf[1])
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
#sub("%","",tmpdf[1])
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]*100
#sub("%","",tmpdf[1])
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
#names(tmpdf) <- uni$header$dataset[2:length(uni$header$dataset)]
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
#sub("%","",tmpdf[1])
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="(\(n=)|(\))", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="((n=)|(\))", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="((n=)|())", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="((n=)|())", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="(n=", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\(n=", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\(n=", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\(n=", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern=r"\(n=", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\\(n=", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="(\\(n=)", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="(\\(n=)|(\\)", replacement="")
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="(\\(n=)|(\\))", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\\(n=", replacement="")
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#tmpdf <- data.frame(uni$body$dataset, row.names = c(1,2), stringsAsFactors = FALSE)
tmp_perc <- c(as.character(unlist(uni$body$dataset[1,])))
tmp_count <- c(as.character(unlist(uni$body$dataset[2,])))
tmpdf <- data.frame("percentage"=tmp_perc, "count"=tmp_count)
tmpdf <- tmpdf[2:nrow(tmpdf),]
rownames(tmpdf) <- NULL
tmpdf[1] <- sapply(tmpdf[1], FUN = sub, pattern="%", replacement="")
tmpdf[1] <- sapply(tmpdf[1], FUN = as.numeric)
tmpdf[1] <- tmpdf[1]/100
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\\(n=", replacement="")
tmpdf[2] <- sapply(tmpdf[2], FUN = sub, pattern="\\)", replacement="")
tmpdf[2] <- sapply(tmpdf[2], FUN = as.numeric)
#tmpdf[] <- lapply(tmpdf, function(x) { attributes(x) <- NULL; x })
#attributes(tmpdf)
#str(tmpdf)
#uni <- lemonutil::unitable(d, d$opcapacity, minval = 1, maxval = 5)
#uni
ctab <- lemonutil::crosstable(d, "opcapacity", "timeopen")
devtools::document()
devtools::install_github("lemonlinn\lemonutil", upgrade_dependencies=FALSE)
devtools::install_github("lemonlinn/lemonutil", upgrade_dependencies=FALSE)
knitr::opts_chunk$set(echo = TRUE)
# devtools::install_github("lemonlinn/lemonutil", upgrade_dependencies = FALSE) to download
library(lemonutil)
library(ggplot2)
d = read.csv("./DataFrames/clean_2020-08-20.csv")
uni <- lemonutil::unitable(d, d$opcapacity, minval = 1, maxval = 5)
uni
ctab <- lemonutil::crosstable(d, "opcapacity", "timeopen")
ctab
uniDF <- lemonutil::flex2df(flex=uni, tbl_type = "unitable")
View(uniDF)
View(uniDF)
ctab$body$colwidths
View(ctab)
View(ctab)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_nrow
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
typeof(ctab_nrow)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
for (i in 1:ctab_ncol){
col_i <- c("x")
}
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
for (i in 1:ctab_ncol){
col_i <- c(i)
}
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
tmpdf <- data.frame()
for (i in 1:ctab_ncol){
tmpdf[i] <- c(i)
}
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
View(ctab)
View(ctab)
View(tmpdf)
View(tmpdf)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
View(ctab_colnames)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[-1]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[-1,]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[nrow(ctab$header$dataset),]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
View(ctab_colnames)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[nrow(ctab$header$dataset),]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
colnames(tmpdf) <- ctab_colnames
View(tmpdf)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[nrow(ctab$header$dataset),]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
colnames(tmpdf) <- ctab_colnames
row.names(tmpdf) <- tmpdf['X']
View(tmpdf)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[nrow(ctab$header$dataset),]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
colnames(tmpdf) <- ctab_colnames
row.names(tmpdf) <- tmpdf['x']
View(tmpdf)
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[nrow(ctab$header$dataset),]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
colnames(tmpdf) <- ctab_colnames
row.names(tmpdf) <- tmpdf$x
ctab_nrow <- ctab$body$content$content$nrow
ctab_ncol <- ctab$body$content$content$ncol
ctab_colnames <- ctab$header$dataset[nrow(ctab$header$dataset),]
tmpdf <- data.frame(matrix(0, ncol = ctab_ncol, nrow = ctab_nrow))
for (i in 1:ctab_ncol){
tmpdf[i] <- c(as.character(unlist(ctab$body$dataset[i])))
}
colnames(tmpdf) <- ctab_colnames
row.names(tmpdf) <- tmpdf$x
tmpdf$x <- NULL
View(tmpdf)
devtools::document()
